<f:layout name="Default"/>

<f:section name="title">
    Add a new
    <f:if condition="{type} == '0'">
        initiative
    </f:if>
    <f:if condition="{type} == '1'">
        market
    </f:if>
    <f:if condition="{type} == '2'">
        event
    </f:if>
    <f:if condition="{type} == '3'">
        basic
    </f:if>
    location
</f:section>

<f:section name="content">
    <f:if condition="{cats}">
        <f:then>
        </f:then>
        <f:else>
            <!-- TODO add style -->
            <div>!! There are no categories!</div>
        </f:else>
    </f:if>

    <!-- BEGIN INI LOCATION -->
    <f:if condition="{type} == '0'">
        <f:if condition="{inis}">
            <f:then>
                <f:form method="post" action="create" object="{newObject}" name="newObject"
                        enctype="multipart/form-data">
                    <div style="display: none;">
                        <f:form.hidden name="type" value="{type}"/>
                    </div>
                    <div class="neos-row-fluid neos-module-container">
                        <f:render partial="Location/LocationForm" arguments="{inis: inis, cats: cats}"/>
                    </div>
                    <f:render partial="Location/LocationAddFooter"/>
                </f:form>
            </f:then>
            <f:else>
                <div class="neos-module-container">
                    You need at least one initiative to add a location!
                </div>
                <f:render partial="Location/LocationAddFooterFail"/>
            </f:else>
        </f:if>
    </f:if>
    <!-- END OF INI LOCATION -->

    <f:if condition="{type} == '1'">
        tba: market entry location form
        <f:render partial="Shared/FooterBack"/>
    </f:if>

    <f:if condition="{type} == '2'">
        tba: event location form
        <f:render partial="Shared/FooterBack"/>
    </f:if>

    <!-- TODO maybe restructure conditions -->
    <!-- BEGIN BASIC LOCATION -->
    <f:if condition="{type} == '3'">
        <f:form method="post" action="create" object="{newObject}" name="newObject"
                enctype="multipart/form-data">
            <div style="display: none;">
                <f:form.hidden name="type" value="{type}"/>
            </div>
            <div class="neos-row-fluid neos-module-container">
                <f:render partial="Location/LocationForm" arguments="{cats: cats}"/>
            </div>
            <f:render partial="Location/LocationAddFooter"/>
        </f:form>
    </f:if>
    <!-- END OF BASIC LOCATION -->

    <f:if condition="{fail}">
        please select a valid location type
        <f:render partial="Shared/FooterBack"/>
    </f:if>
</f:section>

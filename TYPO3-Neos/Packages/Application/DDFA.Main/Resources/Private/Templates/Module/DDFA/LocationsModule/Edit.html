<f:layout name="Default"/>

<f:section name="title">Translate location ({editObject.locale}|{viewObject.locale})</f:section>

<f:section name="content">
    <div class="infoBox">
        <p>Select translation</p>
        <f:form method="post" action="selectTranslation" arguments="{object: editObject}">
            <label for="editLocale">Select edit language</label>
            <f:form.select id="editLocale" name="editLocale" options="{editLanguages}" value="{editObject.locale}" optionValueField="code" optionLabelField="language" sortByOptionLabel="true" /><br><br>
            <label for="viewLocale">Select view language</label>
            <!-- TODO link to real languages -->
            <!--<f:form.select id="viewLocale" name="viewLocale" options="{viewLanguages}" value="{viewObject.locale}" optionValueField="code" optionLabelField="language" sortByOptionLabel="true" />-->
            <select id="viewLocale" name="moduleArguments[viewLocale]">
                <f:for each="{viewLanguages}" as="lan">
                    <f:if condition="{lan} == {viewObject.locale}">
                        <f:then>
                            <option value="{lan}" selected>{lan}</option>
                        </f:then>
                        <f:else>
                            <option value="{lan}">{lan}</option>
                        </f:else>
                    </f:if>
                </f:for>
            </select>
            <button type="submit" class="neos-button" title="View and edit this translation">
                <i class="icon-arrow-right icon-white"></i>
            </button>
        </f:form>
    </div>
    <div  style="clear: both"></div>

    <f:form method="post" action="update" object="{editObject}" name="editObject" enctype="multipart/form-data">
        <div class="neos-module-container">
            <div class="leftSide">
                <legend>{editObject.locale}</legend>
                <f:render partial="Location/LocationFormTranslate" />
            </div>
            <div class="rightSide">
                <legend>{viewObject.locale}: <i>{viewObject.initiative.name}</i> - {viewObject.name}</legend>

                <f:render partial="Location/LocationView" arguments="{l: viewObject}" />
            </div>
            <div  style="clear: both"></div>
        </div>
        <div class="neos-footer">
            <f:link.action action="index" class="neos-button" title="back to index">Abort</f:link.action>
            <f:form.submit value="Save translation" class="neos-button neos-button-primary" title="save this translation" />
        </div>
    </f:form>
</f:section>